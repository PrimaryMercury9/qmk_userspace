#include "oled_display.h"
#include "quantum.h"
#include "host.h"  // For host_keyboard_led_state()

#if defined(OLED_ENABLE) && defined(WPM_ENABLE)

// Your global variables
char wpm_str[12];
uint16_t wpm_graph_timer = 0;

// OLED Initialization
oled_rotation_t oled_init_user(oled_rotation_t rotation) {
    return OLED_ROTATION_180;
}

void render_os(void) {
    switch (detected_host_os()) {
        case OS_IOS: oled_write_P(PSTR("OS: IOS"), false); break;
        case OS_MACOS: oled_write_P(PSTR("OS: MacOS"), false); break;
        case OS_LINUX: oled_write_P(PSTR("OS: Linux"), false); break;
        case OS_WINDOWS: oled_write_P(PSTR("OS: Windows"), false); break;
        default: oled_write_P(PSTR("OS: UKN"), false); break;
    }
}

void render_vim_mode(void) {
    if (vim_mode_enabled()) {
        switch (get_vim_mode()) {
            case NORMAL_MODE: oled_write_P(PSTR("VIM: NORMAL"), false); break;
            case INSERT_MODE: oled_write_P(PSTR("VIM: INSERT"), false); break;
            case VISUAL_MODE: oled_write_P(PSTR("VIM: VISUAL"), false); break;
            case VISUAL_LINE_MODE: oled_write_P(PSTR("VIM: VISUAL LINE"), false); break;
            default: oled_write_P(PSTR("VIM: ??UNKNOWN??"), false); break;
        }
    } else {
        oled_write_P(PSTR("VIM: OFF"), false);
    }
}

void render_status(void) {
    switch (get_highest_layer(layer_state)) {
        case _QWERTY: render_os(); break;
        case _NAV: oled_write_P(PSTR("Layer: NAV"), false); break;
        case _SYM: oled_write_P(PSTR("Layer: SYMBOLS"), false); break;
        case _NUMPAD: oled_write_P(PSTR("Layer: NUMPAD"), false); break;
        case _HW: oled_write_P(PSTR("Layer: HARDWARE"), false); break;
        case _MOUSE: oled_write_P(PSTR("Layer: MOUSE"), false); break;
        default: oled_write_P(PSTR("Layer: Undefined"), false); break;
    }

    led_t led_state = host_keyboard_led_state();
    oled_write_P(led_state.num_lock ? PSTR("NUM ") : PSTR("    "), false);
    oled_write_P(led_state.caps_lock ? PSTR("CAPS ") : PSTR("     "), false);
    oled_write_P(led_state.scroll_lock ? PSTR("SCRL") : PSTR("    "), false);
}

void render_wpm(void) {
    oled_set_cursor(0, 4);
    oled_write_P(PSTR("WPM: "), false);
    oled_set_cursor(5, 4);
    oled_write(get_u8_str(get_current_wpm(), '0'), false);
    oled_write(wpm_str, false);
}

void render_jiggling(void) {
    extern bool is_jiggling;  // Extern if defined elsewhere
    if (is_jiggling) {
        oled_write_P(PSTR("JIGGLING"), false);
    }
}

void render_leader(void) {
    extern bool is_leader_active;  // Extern if defined elsewhere
    if (is_leader_active) {
        oled_write_P(PSTR("LEADER WAITING"), false);
    }
}

void render_led_hue(void) {
    hsv_t current_hsv = rgb_matrix_get_hsv();
    uint8_t hue = current_hsv.h;
    char buffer[10];
    snprintf(buffer, sizeof(buffer), "HUE: %3d", hue);
    oled_write(buffer, false);
}

static const char PROGMEM windows_logo_1[] = {
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00, 0x00,
    0xc0, 0xc0, 0xc0, 0xc0, 0xe0, 0xe0, 0xe0, 0xe0, 0xe0, 0xe0, 0xe0, 0xe0, 0xf0, 0xf0, 0xf0, 0xf0,
    0xf0, 0xf0, 0xf0, 0xf0, 0xf8, 0xf8, 0xf8, 0xf8, 0xf8, 0xf8, 0xf8, 0xf8, 0xfc, 0xfc, 0xfc, 0xfc,
};
static const char PROGMEM windows_logo_2[] = {
    0xfc, 0xfc, 0xfc, 0xfc, 0xfe, 0xfe, 0xfe, 0xfe, 0xfe, 0xfe, 0xfe, 0xfe, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x00, 0x00, 0x00, 0x00,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
};
static const char PROGMEM windows_logo_3[] = {
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x00, 0x00, 0x00, 0x00,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
};
static const char PROGMEM windows_logo_4[] = {
    0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f,
    0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x00, 0x00, 0x00, 0x00,
    0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f,
    0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f,
};
static const char PROGMEM windows_logo_5[] = {
    0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc,
    0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0x00, 0x00, 0x00, 0x00,
    0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc,
    0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc,
};
static const char PROGMEM windows_logo_6[] = {
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x00, 0x00, 0x00, 0x00,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
};
static const char PROGMEM windows_logo_7[] = {
    0x3f, 0x3f, 0x3f, 0x3f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x00, 0x00, 0x00, 0x00,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
};
static const char PROGMEM windows_logo_8[] = {
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x00, 0x00, 0x00, 0x00,
    0x03, 0x03, 0x03, 0x03, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x0f, 0x0f, 0x0f, 0x0f,
    0x0f, 0x0f, 0x0f, 0x0f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x3f, 0x3f, 0x3f, 0x3f,
};

void render_windows_logo(void) {
    oled_set_cursor(5, 0);
    oled_write_raw_P(windows_logo_1, sizeof(windows_logo_1));
    oled_set_cursor(5, 1);
    oled_write_raw_P(windows_logo_2, sizeof(windows_logo_2));
    oled_set_cursor(5, 2);
    oled_write_raw_P(windows_logo_3, sizeof(windows_logo_3));
    oled_set_cursor(5, 3);
    oled_write_raw_P(windows_logo_4, sizeof(windows_logo_4));
    oled_set_cursor(5, 4);
    oled_write_raw_P(windows_logo_5, sizeof(windows_logo_5));
    oled_set_cursor(5, 5);
    oled_write_raw_P(windows_logo_6, sizeof(windows_logo_6));
    oled_set_cursor(5, 6);
    oled_write_raw_P(windows_logo_7, sizeof(windows_logo_7));
    oled_set_cursor(5, 7);
    oled_write_raw_P(windows_logo_8, sizeof(windows_logo_8));
}

static const char PROGMEM apple_logo_1[] = {
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0xc0, 0xe0, 0xf0, 0xf8, 0xfc, 0xfc, 0xfe, 0xfe, 0xff, 0x7f, 0x0f, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
};
static const char PROGMEM apple_logo_2[] = {
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x7c, 0x7f, 0x7f, 0x3f, 0x3f, 0x3f, 0x1f, 0x0f, 0x07, 0x03, 0x01, 0x00, 0x80, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
};
static const char PROGMEM apple_logo_3[] = {
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xc0, 0xe0, 0xf0, 0xf8, 0xfc, 0xfc, 0xfe,
    0xfe, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfe, 0xfe, 0xfe, 0xfc, 0xfc, 0xfc,
    0xfc, 0xfc, 0xfc, 0xfc, 0xfe, 0xfe, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xfe, 0xfe, 0xfe, 0xfc, 0xf8, 0x70, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
};
static const char PROGMEM apple_logo_4[] = {
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xe0, 0xfc, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0x0f, 0x03, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
};
static const char PROGMEM apple_logo_5[] = {
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xfd, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
};
static const char PROGMEM apple_logo_6[] = {
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xfe, 0xf8, 0xf0, 0xe0, 0xc0, 0xc0, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
};
static const char PROGMEM apple_logo_7[] = {
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x0f, 0x3f, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x7f, 0x1f, 0x07, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
};
static const char PROGMEM apple_logo_8[] = {
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x03, 0x0f,
    0x1f, 0x3f, 0x7f, 0x7f, 0xff, 0xff, 0xff, 0xff, 0xff, 0x7f, 0x7f, 0x7f, 0x3f, 0x3f, 0x3f, 0x3f,
    0x1f, 0x1f, 0x1f, 0x3f, 0x3f, 0x3f, 0x7f, 0x7f, 0x7f, 0xff, 0xff, 0xff, 0xff, 0xff, 0x7f, 0x7f,
    0x3f, 0x1f, 0x0f, 0x07, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
};

void render_apple_logo(void) {
    oled_set_cursor(5, 0);
    oled_write_raw_P(apple_logo_1, sizeof(apple_logo_1));
    oled_set_cursor(5, 1);
    oled_write_raw_P(apple_logo_2, sizeof(apple_logo_2));
    oled_set_cursor(5, 2);
    oled_write_raw_P(apple_logo_3, sizeof(apple_logo_3));
    oled_set_cursor(5, 3);
    oled_write_raw_P(apple_logo_4, sizeof(apple_logo_4));
    oled_set_cursor(5, 4);
    oled_write_raw_P(apple_logo_5, sizeof(apple_logo_5));
    oled_set_cursor(5, 5);
    oled_write_raw_P(apple_logo_6, sizeof(apple_logo_6));
    oled_set_cursor(5, 6);
    oled_write_raw_P(apple_logo_7, sizeof(apple_logo_7));
    oled_set_cursor(5, 7);
    oled_write_raw_P(apple_logo_8, sizeof(apple_logo_8));
}

static const char PROGMEM linux_logo_1[] = {
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0xf0, 0xf8, 0xfc, 0xfe, 0xfe, 0xfe, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xfe, 0xfe, 0xfc, 0xf8, 0xf0, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
};
static const char PROGMEM linux_logo_2[] = {
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3f, 0xc7, 0x31, 0x79, 0xf1, 0xc3, 0x7f, 0x7f, 0x6f,
    0xc1, 0xf1, 0xf8, 0xf8, 0x81, 0xe7, 0xff, 0xff, 0xff, 0xff, 0xf8, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
};
static const char PROGMEM linux_logo_3[] = {
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0xe0, 0x7f, 0x0f, 0x19, 0x30, 0x60, 0x60, 0x20, 0x20,
    0x10, 0x10, 0x08, 0x0d, 0x07, 0x07, 0x1f, 0x7f, 0xff, 0xff, 0xff, 0xf0, 0xc0, 0x80, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
};
static const char PROGMEM linux_logo_4[] = {
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x80, 0xe0, 0xf8, 0xfc, 0x1e, 0x07, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x0f, 0x3f, 0xff, 0xff, 0xff, 0xfe, 0xfc,
    0xf0, 0xe0, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
};
static const char PROGMEM linux_logo_5[] = {
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xc0, 0xf0,
    0xfe, 0xff, 0x0f, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x0f, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xfc, 0xe0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
};
static const char PROGMEM linux_logo_6[] = {
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0xc0, 0xe0, 0x36, 0x1f, 0x3f,
    0x3f, 0xfc, 0xe0, 0xc0, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0xe0, 0x70, 0x30, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0x7f, 0xef, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
};
static const char PROGMEM linux_logo_7[] = {
    0x00, 0x00, 0x00, 0x00, 0x00, 0x8e, 0xfe, 0x33, 0x03, 0x01, 0x01, 0x01, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x01, 0x07, 0x0f, 0x3f, 0x7f, 0xfe, 0xbc, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x80, 0xc0, 0xe0, 0xff, 0xff, 0x0c, 0x00, 0x03, 0x03, 0x03,
    0x03, 0x03, 0x03, 0x01, 0x00, 0x03, 0x0f, 0x18, 0x90, 0xf0, 0xe0, 0x00, 0x00, 0x00, 0x00, 0x00,
};
static const char PROGMEM linux_logo_8[] = {
    0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0x0f, 0x0c, 0x0c, 0x08, 0x08, 0x18, 0x18, 0x18, 0x10, 0x30,
    0x30, 0x20, 0x60, 0x60, 0x40, 0xc0, 0x60, 0x71, 0x7f, 0x1f, 0x1e, 0x1e, 0x1e, 0x1e, 0x1e, 0x0e,
    0x0e, 0x0e, 0x0e, 0x0f, 0x1f, 0x1f, 0x1f, 0x1f, 0x3f, 0x7f, 0xff, 0xe0, 0xc0, 0xc0, 0xe0, 0x60,
    0x30, 0x18, 0x1c, 0x0c, 0x06, 0x06, 0x03, 0x03, 0x01, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
};

void render_linux_logo(void) {
    oled_set_cursor(5, 0);
    oled_write_raw_P(linux_logo_1, sizeof(linux_logo_1));
    oled_set_cursor(5, 1);
    oled_write_raw_P(linux_logo_2, sizeof(linux_logo_2));
    oled_set_cursor(5, 2);
    oled_write_raw_P(linux_logo_3, sizeof(linux_logo_3));
    oled_set_cursor(5, 3);
    oled_write_raw_P(linux_logo_4, sizeof(linux_logo_4));
    oled_set_cursor(5, 4);
    oled_write_raw_P(linux_logo_5, sizeof(linux_logo_5));
    oled_set_cursor(5, 5);
    oled_write_raw_P(linux_logo_6, sizeof(linux_logo_6));
    oled_set_cursor(5, 6);
    oled_write_raw_P(linux_logo_7, sizeof(linux_logo_7));
    oled_set_cursor(5, 7);
    oled_write_raw_P(linux_logo_8, sizeof(linux_logo_8));
}

void render_os_logo(void) {
    switch (detected_host_os()) {
        case OS_IOS:
        case OS_MACOS:
            render_apple_logo();
            break;
        case OS_LINUX:
            render_linux_logo();
            break;
        case OS_WINDOWS:
            render_windows_logo();
            break;
        default:
            oled_write_P(PSTR(""), false);
            break;
    }
}

bool oled_task_user(void) {
    if (is_keyboard_master()) {
        oled_clear();
        oled_set_cursor(0, 0);
        render_vim_mode();
        oled_set_cursor(0, 2);
        render_status();
        oled_set_cursor(0, 4);
        render_wpm();
        // oled_set_cursor(0, 5);
        // render_led_hue(); // Uncomment if needed
        oled_set_cursor(0, 6);
        render_jiggling();
        oled_set_cursor(0, 7);
        render_leader();
    } else {
        // Secondary displays show OS logo
        oled_clear();
        render_os_logo();
    }
    return true;
}

#endif
